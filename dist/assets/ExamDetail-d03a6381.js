import{z as w,b as C,i as f,q as g,c as i,o as v,l as k,w as o,e as r,f as e,g as u}from"./index-23f1c135.js";const q={style:{"margin-right":"15px"}},z=r("h1",null,"单项选择",-1),j=r("h1",null,"多项选择",-1),$=r("h1",null,"填空题",-1),B=r("h1",null,"主观题",-1),I={__name:"ExamDetail",setup(N){const b=w().params.examId,a=C({singleChoices:[],mutipleChoices:[],blanks:[],subjectives:[]});let m=[];f.get("exam-question/",{params:{exam:b}}).then(d=>{m=d.data;for(const s of m)f.get(s.question_url,{baseURL:""}).then(t=>{const l=t.data;l.score=s.score,l.type_name=="单项选择"?a.singleChoices.push(l):l.type_name=="多项选择"?a.mutipleChoices.push(l):l.type_name=="填空题"?a.blanks.push(l):a.subjectives.push(l)})});const y=g("reload"),c=d=>{const s=m.find(t=>t.question_url===d.url).url;console.log(s),f.delete(s,{baseURL:""}).then(t=>{console.log(t),y()})};return(d,s)=>{const t=i("el-table-column"),l=i("el-button"),_=i("el-popconfirm"),p=i("el-table"),x=i("el-scrollbar");return v(),k(x,{"max-height":"90vh"},{default:o(()=>[r("div",q,[z,e(p,{data:a.singleChoices,style:{width:"100%"}},{default:o(()=>[e(t,{type:"index"}),e(t,{prop:"body",label:"题目"}),e(t,{prop:"score",label:"分值",width:"80"}),e(t,{width:"130",label:"操作"},{default:o(n=>[e(_,{title:"确定要删除吗?",onConfirm:h=>c(n.row)},{reference:o(()=>[e(l,{type:"danger",size:"small",text:""},{default:o(()=>[u("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),j,e(p,{data:a.mutipleChoices,style:{width:"100%"}},{default:o(()=>[e(t,{type:"index"}),e(t,{prop:"body",label:"题目"}),e(t,{prop:"score",label:"分值",width:"80"}),e(t,{width:"130",label:"操作"},{default:o(n=>[e(_,{title:"确定要删除吗?",onConfirm:h=>c(n.row)},{reference:o(()=>[e(l,{type:"danger",size:"small",text:""},{default:o(()=>[u("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),$,e(p,{data:a.blanks,style:{width:"100%"}},{default:o(()=>[e(t,{type:"index"}),e(t,{prop:"body",label:"题目"}),e(t,{prop:"score",label:"分值",width:"80"}),e(t,{width:"130",label:"操作"},{default:o(n=>[e(_,{title:"确定要删除吗?",onConfirm:h=>c(n.row)},{reference:o(()=>[e(l,{type:"danger",size:"small",text:""},{default:o(()=>[u("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),B,e(p,{data:a.subjectives,style:{width:"100%"}},{default:o(()=>[e(t,{type:"index"}),e(t,{prop:"body",label:"题目"}),e(t,{prop:"score",label:"分值",width:"80"}),e(t,{width:"130",label:"操作"},{default:o(n=>[e(_,{title:"确定要删除吗?",onConfirm:h=>c(n.row)},{reference:o(()=>[e(l,{type:"danger",size:"small",text:""},{default:o(()=>[u("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])])]),_:1})}}};export{I as default};
